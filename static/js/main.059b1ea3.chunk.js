(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{14:function(t,e,s){},15:function(t,e,s){},16:function(t,e,s){},17:function(t,e,s){"use strict";s.r(e);var i=s(0),c=s(1),a=s.n(c),n=s(8),l=s.n(n),r=(s(14),s(2)),o=s(3),h=s(4),u=s(6),d=s(5),k=(s(15),function(t){Object(u.a)(s,t);var e=Object(d.a)(s);function s(t){var i;return Object(o.a)(this,s),(i=e.call(this,t)).wrapperRef=c.createRef(),i.state={dimensions:null,eventListenerAttached:!1},i}return Object(h.a)(s,[{key:"render",value:function(){var t=this.props,e=t.padding,s=void 0===e?0:e,c=t.ratio,a=void 0===c?1:c,n=this.state,l=n.dimensions,r=null;if(n.eventListenerAttached&&null!==l){var o=l.width,h=l.height;if(o&&h){var u=Math.min(o/a,h),d={position:"absolute",width:"".concat(u*a-2*s,"px"),height:"".concat(u-2*s,"px"),left:"".concat((o-u*a)/2+s,"px"),top:"".concat((h-u)/2+s,"px")};r=Object(i.jsx)("div",{style:d,className:this.props.className,children:this.props.children})}else console.log("SquareFill error, found width/height to be: [".concat(o,", ").concat(h,"]"))}return Object(i.jsx)("div",{ref:this.wrapperRef,className:"rect-fill-js-wrapper-style",children:r})}},{key:"componentDidMount",value:function(){var t=this;window.addEventListener("resize",(function(){t.setState((function(){return{dimensions:t.wrapperRef.current.getBoundingClientRect()}}))})),this.setState((function(){return{eventListenerAttached:!0}}))}},{key:"componentDidUpdate",value:function(t,e,s){var i=this;null===this.state.dimensions&&this.setState((function(){return{dimensions:i.wrapperRef.current.getBoundingClientRect()}}))}},{key:"componentWillUnmount",value:function(){var t=this;this.state.eventListenerAttached&&window.removeEventListener("resize",(function(){console.log("resize"),t.setState((function(){return{dimensions:t.wrapperRef.current.getBoundingClientRect()}}))}))}}]),s}(c.Component)),f=(s(16),.05),y=-700,v=800,x=460,P=477.99999999999994,j=540,b=50,p=function(t){Object(u.a)(s,t);var e=Object(d.a)(s);function s(t){var i;return Object(o.a)(this,s),(i=e.call(this,t)).state={state:0,countdownVal:-1},i.keysDown=new Set,i.tickInterval=null,i.paddle1Pos=null,i.paddle2Pos=null,i.xPuck=null,i.yPuck=null,i.xVelecityPuck=null,i.yVelecityPuck=null,i.scoreLeft=null,i.scoreRight=null,i}return Object(h.a)(s,[{key:"componentDidMount",value:function(){var t=this;window.addEventListener("keypress",(function(e){return t.keyPressHandler(e)})),window.addEventListener("keydown",(function(e){return t.keyDownHandler(e)})),window.addEventListener("keyup",(function(e){return t.keyUpHandler(e)}))}},{key:"componentWillUnmount",value:function(){var t=this;window.removeEventListener("keypress",(function(e){return t.keyPressHandler(e)})),window.removeEventListener("keydown",(function(e){return t.keyDownHandler(e)})),window.removeEventListener("keyup",(function(e){return t.keyUpHandler(e)}))}},{key:"keyPressHandler",value:function(t){var e=this;0===this.state.state&&(this.setState((function(){return{state:1}})),setTimeout((function(){e.setState((function(){return{state:2}})),setTimeout((function(){return e.setState((function(){return{state:3,countdownVal:-1}}))}),1200)}),1200))}},{key:"keyDownHandler",value:function(t){this.keysDown.add(t.key)}},{key:"keyUpHandler",value:function(t){this.keysDown.delete(t.key)}},{key:"render",value:function(){var t=this,e=this.state,s=e.state,c=e.countdownVal;return 0===s?Object(i.jsx)("div",{className:"app",children:Object(i.jsxs)(k,{padding:10,ratio:1.77777777778,className:"slow-transition",children:[Object(i.jsx)("div",{className:"bg-2 fill"}),Object(i.jsx)("div",{className:"right-eye fill"}),Object(i.jsx)("div",{className:"left-eye fill"}),Object(i.jsx)("div",{className:"text",children:"PRESS START"})]})}):1===s?Object(i.jsx)("div",{className:"app",children:Object(i.jsxs)(k,{padding:10,ratio:1,className:"slow-transition",children:[Object(i.jsx)("div",{className:"bg-2 fill fill-transition"}),Object(i.jsx)("div",{className:"right-eye fill fill-transition"}),Object(i.jsx)("div",{className:"left-eye fill fill-transition"})]})}):2===s?Object(i.jsx)("div",{className:"app",children:Object(i.jsxs)(k,{padding:10,ratio:1,className:"hide-overflow",children:[Object(i.jsx)("div",{className:"bg-2 fill fill2 fill-transition"}),Object(i.jsx)("div",{className:"right-eye fill fill2 fill-transition"}),Object(i.jsx)("div",{className:"left-eye fill fill2 fill-transition"})]})}):3===s?(-1===c&&(this.setState((function(){return{countdownVal:4}})),setTimeout((function(){t.setState((function(){return{state:4}}))}),1e3)),Object(i.jsx)("div",{className:"app",children:Object(i.jsxs)(k,{padding:10,ratio:1,className:"hide-overflow",children:[Object(i.jsx)("div",{className:"bg-2 fill fill2"}),this.makeBorders(),Object(i.jsx)("div",{className:"right-eye fill fill2"}),Object(i.jsx)("div",{className:"left-eye fill fill2"}),Object(i.jsx)("div",{className:"puck fill fill2"}),Object(i.jsx)("div",{className:"text textGame",children:4===c?"READY":c})]})})):4===s?(null===this.tickInterval&&(this.resetGameVars(),this.tickInterval=setInterval((function(){return t.tick()}),1e3/60)),Object(i.jsx)("div",{className:"app",children:Object(i.jsxs)(k,{padding:10,ratio:1,className:"hide-overflow",children:[Object(i.jsx)("div",{className:"bg-2 fill fill2"}),this.makeBorders(),Object(i.jsxs)("div",{className:"text textGame textScore",children:["".concat(this.scoreLeft),Object(i.jsx)("span",{}),"-",Object(i.jsx)("span",{}),"".concat(this.scoreRight)]}),Object(i.jsx)("div",{className:"left-eye fill fill2",style:{top:"".concat((this.paddle1Pos-17)*f,"%")}}),Object(i.jsx)("div",{className:"right-eye fill fill2",style:{top:"".concat((this.paddle2Pos- -35)*f,"%")}}),Object(i.jsx)("div",{className:"puck fill fill2",style:{left:"".concat(this.xPuck*f,"%"),top:"".concat(this.yPuck*f,"%")}})]})})):5===s?(this.tickInterval&&(clearInterval(this.tickInterval),this.tickInterval=null),Object(i.jsx)("div",{className:"app",children:Object(i.jsxs)(k,{padding:10,ratio:1,className:"hide-overflow",children:[Object(i.jsx)("div",{className:"bg-2 fill fill2"}),this.makeBorders(),Object(i.jsxs)("div",{className:"text textGame textScore",children:["".concat(this.scoreLeft),Object(i.jsx)("span",{}),"-",Object(i.jsx)("span",{}),"".concat(this.scoreRight)]}),Object(i.jsx)("div",{className:"left-eye fill fill2",style:{top:"".concat((this.paddle1Pos-17)*f,"%")}}),Object(i.jsx)("div",{className:"right-eye fill fill2",style:{top:"".concat((this.paddle2Pos- -35)*f,"%")}}),Object(i.jsx)("div",{className:"puck fill fill2",style:{left:"".concat(this.xPuck*f,"%"),top:"".concat(this.yPuck*f,"%")}}),Object(i.jsx)("div",{className:"text textGame",children:"P".concat(this.scoreLeft>this.scoreRight?1:2," WINS!")})]})})):(console.log("UNKNOWN STATE IN APP: ".concat(s)),null)}},{key:"tick",value:function(){if(Math.abs(this.xPuck)>=P){if(this.scoreLeft>=7||this.scoreRight>=7)return clearInterval(this.tickInterval),void this.setState((function(){return{state:5}}));this.xVelecityPuck=this.xPuck>0?7:-7,this.yVelecityPuck=14*Math.random()*2-14,this.xPuck=0,this.yPuck=0}(this.keysDown.has("ArrowUp")||this.keysDown.has("w")||this.keysDown.has("W"))&&(this.paddle1Pos=Math.max(this.paddle1Pos-17,-430)),(this.keysDown.has("ArrowDown")||this.keysDown.has("s")||this.keysDown.has("S"))&&(this.paddle1Pos=Math.min(this.paddle1Pos+17,530)),this.paddle2Pos>this.yPuck+12?this.paddle2Pos=Math.max(this.paddle2Pos-12,-430):this.paddle2Pos<this.yPuck-12&&(this.paddle2Pos=Math.min(this.paddle2Pos+12,530));var t=this.xPuck+this.xVelecityPuck,e=this.yPuck+this.yVelecityPuck;if((e<=y||e>=v)&&Math.abs(t)>=410)if(console.log("corner case"),Math.abs((Math.abs(this.xPuck-x)+b)/this.xVelecityPuck)>(e<=y?Math.abs((Math.abs(this.yPuck-y)+b)/this.yVelecityPuck):Math.abs((Math.abs(this.yPuck-v)+b)/this.yVelecityPuck))){var s=this.bounceY(e),i=Object(r.a)(s,2);t=i[0],e=i[1];var c=this.bounceX(t),a=Object(r.a)(c,2);this.xPuck=a[0],this.yPuck=a[1]}else{var n=this.bounceX(t),l=Object(r.a)(n,2);t=l[0],e=l[1];var o=this.bounceY(e),h=Object(r.a)(o,2);this.xPuck=h[0],this.yPuck=h[1]}else if(e<=y||e>=v){var u=this.bounceY(e),d=Object(r.a)(u,2);this.xPuck=d[0],this.yPuck=d[1]}else if(Math.abs(t)>=410){var k=this.bounceX(t),f=Object(r.a)(k,2);this.xPuck=f[0],this.yPuck=f[1]}else{var j=[t,e];this.xPuck=j[0],this.yPuck=j[1]}Math.abs(this.xPuck)>=P&&(this.scoreLeft+=this.xPuck>0,this.scoreRight+=this.xPuck<0),this.forceUpdate()}},{key:"bounceY",value:function(t){var e=this.yVelecityPuck/this.xVelecityPuck;if(this.yVelecityPuck*=-1,t<=y){var s=(y-this.yPuck)/e+this.xPuck,i=Math.abs(this.xVelecityPuck)-Math.abs(s-this.xPuck);return[this.xPuck+this.xVelecityPuck,y+-e*i]}if(t>=v){var c=(v-this.yPuck)/e+this.xPuck,a=Math.abs(this.xVelecityPuck)-Math.abs(c-this.xPuck);return[this.xPuck+this.xVelecityPuck,v- -e*a]}console.log("ERROR IN BOUNCEY")}},{key:"bounceX",value:function(t){if(-t>=410){var e=(this.yPuck-this.paddle1Pos)/j;if(Math.abs(e)>.5925925925925926)return[t,this.yPuck+this.yVelecityPuck];var s,i,c=[this.xSpeedBounceX(this.xVelecityPuck,e),this.ySpeedBounceX(this.yVelecityPuck,e)],a=c[0],n=c[1];if(-this.xPuck>=410)s=this.xPuck+a,i=this.yPuck+n;else{var l=1-Math.abs((x-Math.abs(this.xPuck)-b)/this.xVelecityPuck),r=this.yVelecityPuck/this.xVelecityPuck*(-460-this.xPuck+b)+this.yPuck;s=l*a-460+b,i=r+l*n}if(-s>=410){var o=[-409,n/a*Math.abs(-409-s)+i];s=o[0],i=o[1]}var h=[a,n];return this.xVelecityPuck=h[0],this.yVelecityPuck=h[1],[s,i]}if(t>=410){var u=(this.yPuck-this.paddle2Pos)/j;if(Math.abs(u)>.5925925925925926)return[t,this.yPuck+this.yVelecityPuck];var d,k,f=[-this.xSpeedBounceX(this.xVelecityPuck,u),this.ySpeedBounceX(this.yVelecityPuck,u)],y=f[0],v=f[1];if(this.xPuck>=410)d=this.xPuck+y,k=this.yPuck+v;else{var P=1-Math.abs((x-Math.abs(this.xPuck)-b)/this.xVelecityPuck),p=this.yVelecityPuck/this.xVelecityPuck*(x-this.xPuck-b)+this.yPuck;d=x+P*y-b,k=p+P*v}if(d>=410){var m=[409,v/y*Math.abs(409-d)+k];d=m[0],k=m[1]}var O=[y,v];return this.xVelecityPuck=O[0],this.yVelecityPuck=O[1],[d,k]}console.log("ERROR IN BOUNCEX")}},{key:"xSpeedBounceX",value:function(t,e){return Math.max(Math.abs(t)+.5*(-40*Math.abs(e)+10),14)}},{key:"ySpeedBounceX",value:function(t,e){return.4*t+40*e}},{key:"makeBorders",value:function(){return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)("div",{className:"horz-bound fill fill2",style:{top:"".concat(-37.5,"%")}}),Object(i.jsx)("div",{className:"horz-bound fill fill2",style:{top:"".concat(42.5,"%")}}),Object(i.jsx)("div",{className:"vert-bound fill fill2",style:{left:"".concat(-26.4,"%")}}),Object(i.jsx)("div",{className:"vert-bound fill fill2",style:{left:"".concat(26.4,"%")}})]})}},{key:"resetGameVars",value:function(){this.paddle1Pos=17,this.paddle2Pos=-35,this.xPuck=0,this.yPuck=0,this.xVelecityPuck=-14,this.yVelecityPuck=0,this.scoreLeft=0,this.scoreRight=0}}]),s}(c.Component),m=function(t){t&&t instanceof Function&&s.e(3).then(s.bind(null,18)).then((function(e){var s=e.getCLS,i=e.getFID,c=e.getFCP,a=e.getLCP,n=e.getTTFB;s(t),i(t),c(t),a(t),n(t)}))};l.a.render(Object(i.jsx)(a.a.StrictMode,{children:Object(i.jsx)(p,{})}),document.getElementById("root")),m()}},[[17,1,2]]]);
//# sourceMappingURL=main.059b1ea3.chunk.js.map